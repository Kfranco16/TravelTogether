<div class="container my-4">
  <h1 class="mb-4">...</h1>

  <div class="container my-4">
  <h1 class="mb-4">...</h1>
  <section class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    @for (trip of trips; track trip.id) {
      <div class="col">
        <article class="card h-100 shadow-sm rounded-4 overflow-hidden position-relative viaje-card" style="height: 330px;">

          <!-- Capa base: foto + destino/titulo/estado -->
          <div class="layer-base position-absolute top-0 start-0 w-100 h-100">
            <div class="position-relative w-100 h-100">
              <img
                [src]="trip.image || 'assets/trip-default.jpg'"
                class="card-img-zoom w-100 h-100"
                alt="Foto principal"
                style="height: 150px; object-fit: cover;"
              />

              <!-- Encima de la foto: destino y título -->
              <div class="position-absolute top-0 start-0 w-100 text-white px-3 pt-2" style="background: rgba(0,0,0,0.40);">
                <div class="fw-bold fs-6">
                  <i class="bi bi-geo-alt"></i> {{ trip.destination }}
                </div>
                <div class="fw-semibold">{{ trip.title }}</div>
              </div>

              <!-- Estado en badge en la esquina -->
              <span
                class="position-absolute top-0 end-0 m-3 badge
                  {{ trip.status === 'open' ? 'bg-success' : (trip.status === 'draft' ? 'bg-danger' : 'bg-secondary') }}"
                style="font-size: 1rem; padding: 0.5em 1em;"
              >
                {{
                  trip.status === 'open'
                    ? 'Abierto'
                    : trip.status === 'draft'
                      ? 'Últimos días'
                      : trip.status
                }}
              </span>
            </div>
          </div>

          <!-- Capa info: aparece en hover solo, ocupa todo igual -->
          <div class="layer-info position-absolute bottom-0 start-0 w-100 h-100 card-body py-3 px-4 " style="background: rgba(255, 255, 255, 0.888)">
            <div class="d-flex flex-column h-100 justify-content-center">
              <div class="mb-1 text-muted">
                <i class="bi bi-calendar3"></i>
                {{ trip.start_date }} - {{ trip.end_date }}
              </div>

              <div class="mb-1 text-muted">
                <i class="bi bi-people"></i>
                Mínimo {{ trip.min_participants }} viajeros
              </div>

              <div class="mb-1 text-success fw-bold">
                <i class="bi bi-cash-coin"></i>
                {{ trip.estimated_cost }}€ por persona
              </div>

              <div class="mb-2 text-muted">
                {{ trip.description }}
              </div>

              <div class="d-flex gap-2 mt-3">
                <button class="btn btn-outline-secondary w-50">Ver detalles</button>
                <button class="btn btn-dark w-50">Solicitar unirme</button>
              </div>
            </div>
          </div>

        </article>
      </div>
    }
  </section>
</div>

</div>
