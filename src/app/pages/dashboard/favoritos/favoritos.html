<!-- src/app/pages/dashboard/favoritos/favoritos.html -->
<section class="tt-panel">
  <h2 class="tt-title mb-3">Mis favoritos</h2>

  @if (loading) {
  <p class="text-muted">Cargando tus viajes favoritos…</p>
  } @else if (error) {
  <p class="text-danger">{{ error }}</p>
  } @else if (!favoritos.length) {
  <p class="text-muted">
    Todavía no tienes viajes en favoritos. Cuando marques un viaje con el corazón, aparecerá aquí.
  </p>
  } @else {
  <ul class="list-group tt-fav-list">
    @for (fav of favoritos; track fav.id) {
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <!-- Intentamos mostrar info del viaje si viene anidada -->
        <strong>
          {{ fav.trip?.title || 'Viaje #' + fav.trip_id }}
        </strong>
        @if (fav.trip?.destination) {
        <div class="small text-muted">
          {{ fav.trip.destination }}
        </div>
        }
      </div>

      <a
        [routerLink]="['/viaje', fav.trip?.id || fav.trip_id]"
        class="btn btn-sm btn-outline-secondary"
      >
        Ver viaje
      </a>
    </li>
    }
  </ul>
  }
</section>
